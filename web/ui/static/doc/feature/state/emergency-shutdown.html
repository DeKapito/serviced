<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Emergency shutdown of services</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="concept">
      
      <meta name="DC.Title" content="Emergency shutdown of services">
      
      <meta name="abstract" content="Control Center monitors each service's short-term storage usage trends and current usage levels. When Control Center predicts that a service is about to exhaust storage space, it initiates an automatic emergency shutdown of the service. By shutting down while enough space is available to perform recovery operations, Control Center minimizes the risk of data corruption.">
      
      <meta name="description" content="Control Center monitors each service's short-term storage usage trends and current usage levels. When Control Center predicts that a service is about to exhaust storage space, it initiates an automatic emergency shutdown of the service. By shutting down while enough space is available to perform recovery operations, Control Center minimizes the risk of data corruption.">
      
      <meta name="DC.Relation" scheme="URI" content="../../book/help/maps/admin.html">
      
      <meta name="DC.Relation" scheme="URI" content="emergency-clear.html">
      
      <meta name="prodname" content="Control Center">
      
      <meta name="prodname" content="Control Center">
      
      <meta name="version" content="1">
      
      <meta name="version" content="1">
      
      <meta name="release" content="4">
      
      <meta name="release" content="4">
      
      <meta name="modification" content="0">
      
      <meta name="modification" content="0">
      
      <meta name="DC.Publisher" content="Zenoss, Inc.">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="conceptid">
      <script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"feature\/state\/emergency-clear.html","previousTopicHref":"feature\/storage\/resize-tenant-vd.html","root":false,"map":{"chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/html5-zenoss/css/style.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
      <script rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="../../themes/html5-zenoss/js/script.js"></script>
      </head>
   <body class="en-us html5-zenoss centered navigation-default">
      <ul id="page-links" class="hidden sr-only">
         <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
         <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
         <li><a id="skip-to-footer" href="#footer">Skip to footer</a></li>
      </ul>
      <header id="site-head" class="header header--fixed">
         <nav id="topNav" class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="container">
               <div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="#">  Control Center Reference Guide  </a></div>
               <form id="search" class="navbar-form navbar-right hidden-xs" role="search">
                  <div class="form-group"><input id="search-text" type="text" class="form-control" placeholder="Search"></div>
               </form>
               <ul class="nav navbar-nav navbar-right hidden-xs"></ul>
            </div>
         </nav>
         <div id="msg-version"></div>
      </header>
      <div class="container">
         <div class="row">
            <div class="col-xs-12 col-md-21">
               <ol class="breadcrumb">
                  <li><a class="breadcrumb" href="../../book/help/maps/admin.html" title="Administration reference">Administration reference</a></li>
                  
                  <li>Emergency shutdown of services</li>
               </ol>
            </div>
         </div>
         <div class="row">
            <div class="col-xs-6 col-md-4 hidden-xs">
               <nav id="side-navigation" class="bs-docs-sidebar hidden-print hidden-xs">
                  <ul class="nav bs-docs-sidenav">
                     <li class=" no-child "><a href="../../book/help/front/about.html">About this guide</a></li>
                     <li class=" collapsible  collapsed"><a href="../../book/help/gui/gui.html"><span class="enumeration enumeration0">Chapter 1. </span>Browser interface overview</a><ul class="nav">
                           <li class=" no-child "><a href="../../book/help/gui/nav-menubar.html">Main menu and navigation</a></li>
                           <li class=" collapsible  collapsed"><a href="../../book/help/gui/app.html">Applications page</a><ul class="nav">
                                 <li class=" no-child "><a href="../../book/help/gui/internal-svcs.html">Internal Services details</a></li>
                                 <li class=" collapsible  collapsed"><a href="../../book/help/gui/app-detail.html">Application details</a><ul class="nav">
                                       <li class=" no-child "><a href="../../book/help/gui/app-detail-ip-assign.html">IP Assignments</a></li>
                                       <li class=" no-child "><a href="../../book/help/gui/app-detail-config.html">Configuration Files</a></li>
                                       <li class=" no-child "><a href="../../book/help/gui/app-detail-services.html">Services</a></li>
                                       <li class=" no-child "><a href="../../book/help/gui/app-detail-schedule.html">Scheduled Tasks table</a></li>
                                    </ul>
                                 </li>
                              </ul>
                           </li>
                           <li class=" no-child "><a href="../../book/help/gui/pools.html">Resource Pools page</a></li>
                           <li class=" collapsible  collapsed"><a href="../../book/help/gui/hosts.html">Hosts page</a><ul class="nav">
                                 <li class=" no-child "><a href="../../book/help/gui/hosts-details.html">Host details</a></li>
                              </ul>
                           </li>
                           <li class=" no-child "><a href="../../book/help/gui/logs.html">Logs page</a></li>
                           <li class=" no-child "><a href="../../book/help/gui/backup-restore-page.html">Backup/Restore page</a></li>
                        </ul>
                     </li>
                     <li class=" collapsible  collapsed"><a href="../../book/help/maps/cli.html"><span class="enumeration enumeration0">Chapter 2. </span>Command-line interface reference</a><ul class="nav">
                           <li class=" no-child "><a href="../../feature/cli/invoking-serviced.html">Invoking serviced</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced.html">serviced</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-backup.html">serviced backup</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-docker.html">serviced docker</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-host.html">serviced host</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-key.html">serviced key</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-log-export.html">serviced log export</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-pool.html">serviced pool</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-restore.html">serviced restore</a></li>
                           <li class=" no-child "><a href="../../feature/cli/script.html">serviced script</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-service.html">serviced service</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-snapshot.html">serviced snapshot</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-storage.html">serviced-storage</a></li>
                           <li class=" no-child "><a href="../../feature/vars/file.html">Control Center configuration file</a></li>
                        </ul>
                     </li>
                     <li class=" collapsible  active"><a href="../../book/help/maps/admin.html"><span class="enumeration enumeration0">Chapter 3. </span>Administration reference</a><ul class="nav">
                           <li class=" collapsible  collapsed"><a href="../../feature/storage/thinpool-minimums.html">Control Center application data storage requirements</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/storage/thinpool-examine.html">Examining application data storage status</a></li>
                                 <li class=" no-child "><a href="../../feature/storage/resize-meta.html">Adding space to the metadata area of a Control Center thin pool</a></li>
                                 <li class=" no-child "><a href="../../feature/storage/resize-data.html">Adding space to the data area of a Control Center thin pool</a></li>
                                 <li class=" no-child "><a href="../../feature/storage/resize-tenant-vd.html">Adding space to a tenant volume</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  active"><a class="selected" href="../../feature/state/emergency-shutdown.html">Emergency shutdown of services</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/state/emergency-clear.html">Resetting emergency shutdown flags</a></li>
                              </ul>
                           </li>
                           <li class=" no-child "><a href="../../feature/nat/overview.html">Using Control Center with a NAT device</a></li>
                           <li class=" collapsible  collapsed"><a href="../../feature/backup/overview.html">Backing up and restoring</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/backup/best-practice.html">Best practices for backup and restore</a></li>
                                 <li class=" no-child "><a href="../../feature/backup/backup.html">Backing up using the browser interface</a></li>
                                 <li class=" collapsible  collapsed"><a href="../../feature/backup/cli.html">Backing up using the CLI</a><ul class="nav">
                                       <li class=" no-child "><a href="../../feature/backup/cli-all.html">Backing up the entire system</a></li>
                                       <li class=" no-child "><a href="../../feature/backup/cli-exclude-one.html">Exclude one tenant volume from the backup</a></li>
                                       <li class=" no-child "><a href="../../feature/backup/cli-exclude-multiple.html">Exclude multiple tenant volumes from the backup</a></li>
                                    </ul>
                                 </li>
                                 <li class=" no-child "><a href="../../feature/backup/restore.html">Restoring from a backup</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  collapsed"><a href="../../feature/storage/snapshot-rollback.html">Creating snapshots and rolling back</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/storage/snapshot.html">Creating a snapshot</a></li>
                                 <li class=" no-child "><a href="../../feature/storage/rollback.html">Rolling back to a snapshot</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  collapsed"><a href="../../feature/state/intro.html">Stopping and starting Control Center</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/state/stop-1.html">Stopping Control Center (single-host deployment)</a></li>
                                 <li class=" no-child "><a href="../../feature/state/start-1.html">Starting Control Center (single-host deployment)</a></li>
                                 <li class=" collapsible  collapsed"><a href="../../feature/state/stop-n.html">Stopping Control Center (multi-host deployment)</a><ul class="nav">
                                       <li class=" no-child "><a href="../../feature/state/stop-n-master.html">Stopping a master host (multi-host deployment)</a></li>
                                       <li class=" no-child "><a href="../../feature/state/stop-n-delegate.html">Stopping a delegate host</a></li>
                                    </ul>
                                 </li>
                                 <li class=" no-child "><a href="../../feature/state/start-n.html">Starting Control Center (multi-host deployment)</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  collapsed"><a href="../../feature/restart/overview.html">Rolling restart of services </a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/restart/modify.html">Changing rolling restart</a></li>
                              </ul>
                           </li>
                           <li class=" no-child "><a href="../../feature/audit/intro.html">Control Center audit logging</a></li>
                        </ul>
                     </li>
                     <li class=" collapsible  collapsed"><a href="#">Glossary</a><ul class="nav">
                           <li class=" no-child "><a href="../../shared/glossary/cc-application.html">application</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-cluster.html">cluster</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-delegate-host.html">delegate host</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-master-host.html">master host</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-resource-pool.html">resource pool</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-service.html">service</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/service-definition.html">service definition</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/service-template.html">service template</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-serviced.html">serviced</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/cc-tenant.html">tenant</a></li>
                        </ul>
                     </li>
                  </ul>
               </nav>
            </div>
            <div class="col-xs-12 col-md-8">
               <div id="page" class="starter-template">
                  <article>
                     <div class="page concept  - topic-topic concept-concept " id="conceptid">
                        
                        <h1 class="title topictitle1">Emergency shutdown of services</h1>
                        <div class="body conbody">
                           <p class="shortdesc"><span class="ph">Control Center</span> monitors each service's short-term storage usage trends and
                              current usage levels. When <span class="ph">Control Center</span> predicts that a service is about to exhaust
                              storage space, it initiates an automatic emergency shutdown of the service. By shutting down
                              while enough space is available to perform recovery operations, <span class="ph">Control Center</span> minimizes
                              the risk of data corruption. 
                           </p>
                           
                           
                           
                           <p class="p">Emergency shutdown is performed for services that are in a resource pool that has DFS access.
                              Services that are in pools that do not have DFS permissions and do not write to the DFS
                              continue running.
                           </p>
                           
                           
                           <div class="p"><span class="ph">Control Center</span> displays thin pool and DFS information in the following graphs in the
                              browser interface: 
                              <ul class="ul">
                                 
                                 <li class="li">On the <span class="ph uicontrol">Applications</span> tab, the <span class="ph uicontrol">Thin Pool
                                       Usage</span> graph shows used and available bytes for the thin pool. 
                                 </li>
                                 
                                 
                                 <li class="li">On the <span class="ph uicontrol">Applications</span> page for each service, the <span class="ph uicontrol">DFS
                                       Usage</span> graph shows used and available bytes for the DFS.
                                 </li>
                                 
                                 
                              </ul>
                              
                              
                           </div>
                           
                           
                           <p class="p">By comparing usage to the available storage and the amount of space that must be reserved,
                              <span class="ph">Control Center</span> determines when a service must be shut down before filling the thin
                              pool or DFS, and initiates the emergency shutdown. The browser interface identifies services
                              in the emergency shutdown state, as does issuing the <span class="keyword cmdname">serviced service
                                 status</span> command in the command line. 
                           </p>
                           
                           
                           <p class="p">To minimize data loss, <span class="ph">Control Center</span> shuts down services in the following order:
                              databases; services that cannot be recovered; indices and services that are difficult to
                              recover; any other services. Services in emergency shutdown status cannot be restarted until
                              the underlying cause of the shutdown is resolved.
                           </p>
                           
                           
                           <div class="p">To resolve an emergency shutdown:
                              <ol class="ol">
                                 
                                 <li class="li">Examine the service that was shut down to determine why it was using excessive storage
                                    and correct the issue. For example:
                                    <ul class="ul">
                                       
                                       <li class="li">If an application was writing a large amount of performance data to the tenant
                                          device, add space to the device. See <a class="xref" href="../storage/thinpool-minimums.html">Control Center application data storage requirements</a>.
                                       </li>
                                       
                                       
                                       <li class="li">If too many snapshots are stored on the device, delete those that you no longer
                                          need. See <a class="xref" href="../storage/snapshot-rollback.html" title="Though backups are the most reliable and durable way to preserve Docker images and configurations, creating a backup of an entire application is not always practical. However, you need to safeguard against potential risk when changing the system. In these cases, you can create a snapshot of the system.">Creating snapshots and rolling back</a>.
                                       </li>
                                       
                                       
                                       <li class="li">If a usage anomaly might have occurred, wait for usage levels to return to
                                          normal.
                                       </li>
                                       
                                       
                                    </ul>
                                    
                                    
                                 </li>
                                 
                                 
                                 <li class="li">Clear the emergency shutdown flags.</li>
                                 
                                 
                                 <li class="li">Start the service by using the browser interface or command line interface. <span class="ph">Control Center</span> starts services in the reverse order of shutdown.
                                 </li>
                                 
                                 
                              </ol>
                              
                           </div>
                           
                           
                        </div>
                        
                        <div class="related-links">
                           
                           <ul class="ullinks">
                              
                              <li class="link ulchildlink"><strong><a href="emergency-clear.html">Resetting emergency shutdown flags</a></strong><br>
                                 After resolving the issue that caused an emergency shutdown, use this procedure to     service status, and then restart the
                                 service. 
                              </li>
                              
                           </ul>
                           
                        </div>
                     </div>
                     
                     <div class="row">
                        <footer id="topicsNPLinks">
                           <div id="footer_previous"><a href="../../feature/storage/resize-tenant-vd.html" class="previous" rel="internal" title="Adding space to a tenant volume"><span class="fa fa-arrow-circle-o-left"></span><span class="sr-only">Adding space to a tenant volume</span></a></div>
                           <div id="footer_next"><a href="../../feature/state/emergency-clear.html" class="next" rel="internal" title="Resetting emergency shutdown flags"><span class="sr-only">Resetting emergency shutdown flags</span><span class="fa fa-arrow-circle-o-right"></span></a></div>
                        </footer>
                     </div>
                  </article>
                  <div class="clear"></div>
                  
               </div>
            </div>
         </div>
      </div>
   </body>
</html>
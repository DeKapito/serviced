<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <title>Backing up and restoring</title>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <link rel="schema.DC" href="http://purl.org/dc/terms/">
      <meta name="DC.Type" content="reference">
      
      <meta name="DC.Title" content="Backing up and restoring">
      
      <meta name="abstract" content="Use Control Center to back up applications that Control Center manages. Having accurate and tested system backups can mitigate problems caused by software or hardware issues. The Control Center backup process creates a compressed tar archive file (.tgz) that can be restored on the same cluster or a similar cluster.">
      
      <meta name="description" content="Use Control Center to back up applications that Control Center manages. Having accurate and tested system backups can mitigate problems caused by software or hardware issues. The Control Center backup process creates a compressed tar archive file (.tgz) that can be restored on the same cluster or a similar cluster.">
      
      <meta name="DC.Relation" scheme="URI" content="admin.html">
      
      <meta name="DC.Relation" scheme="URI" content="backup-restore-best-pract.html">
      
      <meta name="DC.Relation" scheme="URI" content="backup.html">
      
      <meta name="DC.Relation" scheme="URI" content="backup-from-cli.html">
      
      <meta name="DC.Relation" scheme="URI" content="restore.html">
      
      <meta name="prodname" content="Control Center">
      
      <meta name="prodname" content="Control Center">
      
      <meta name="version" content="1">
      
      <meta name="version" content="1">
      
      <meta name="release" content="2">
      
      <meta name="release" content="2">
      
      <meta name="modification" content="0">
      
      <meta name="modification" content="0">
      
      <meta name="DC.Publisher" content="Zenoss, Inc.">
      
      <meta name="DC.Format" content="XHTML">
      
      <meta name="DC.Identifier" content="referenceid">
      <script type="text/javascript">var d4p = {"relativePath":"..\/..\/","dev":false,"debug":false,"draft":false,"nextTopicHref":"feature\/manage\/backup-restore-best-pract.html","previousTopicHref":"feature\/manage\/resize.html","root":false,"map":{"chunked":false},"search":{"minlength":2},"l":{"searchPageHeading":"Search Results","close":"Close"}}</script>
      <link rel="stylesheet" type="text/css" media="screen, projection" href="../../themes/html5-zenoss/css/style.css">
      
      <link rel="stylesheet" type="text/css" media="screen, projection, print" src="http://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700">
      <script rel="stylesheet" type="text/css" media="screen, projection, print" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      <script type="text/javascript" src="../../themes/html5-zenoss/js/script.js"></script>
      </head>
   <body class="en-us html5-zenoss centered navigation-default">
      <ul id="page-links" class="hidden sr-only">
         <li><a id="skip-to-content" href="#d4h5-main-content">Skip to content</a></li>
         <li><a id="skip-to-localnav" href="#local-navigation">Skip to navigation</a></li>
         <li><a id="skip-to-footer" href="#footer">Skip to footer</a></li>
      </ul>
      <header id="site-head" class="header header--fixed">
         <nav id="topNav" class="navbar navbar-inverse navbar-static-top" role="navigation">
            <div class="container">
               <div class="navbar-header"><button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="#">  Control Center Reference Guide  </a></div>
               <form id="search" class="navbar-form navbar-right hidden-xs" role="search">
                  <div class="form-group"><input id="search-text" type="text" class="form-control" placeholder="Search"></div>
               </form>
            </div>
         </nav>
         <div id="msg-version"></div>
      </header>
      <div class="container">
         <div class="row">
            <div class="col-xs-12 col-md-21">
               <ol class="breadcrumb">
                  <li><a class="breadcrumb" href="../../feature/manage/admin.html" title="Administration reference">Administration reference</a></li>
                  
                  <li>Backing up and restoring</li>
               </ol>
            </div>
         </div>
         <div class="row">
            <div class="col-xs-6 col-md-4 hidden-xs">
               <nav id="side-navigation" class="bs-docs-sidebar hidden-print hidden-xs">
                  <ul class="nav bs-docs-sidenav">
                     <li class=" no-child "><a href="../../book/help/front/about.html">About this guide</a></li>
                     <li class=" collapsible  active"><a href="../../feature/manage/admin.html"><span class="enumeration enumeration0">Chapter 1. </span>Administration reference</a><ul class="nav">
                           <li class=" no-child "><a href="../../feature/manage/resize.html">Adding space to a tenant device</a></li>
                           <li class=" collapsible  active"><a class="selected" href="../../feature/manage/backup-restore.html">Backing up and restoring</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/manage/backup-restore-best-pract.html">Best practices for backup and restore</a></li>
                                 <li class=" no-child "><a href="../../feature/manage/backup.html">Backing up using the browser interface</a></li>
                                 <li class=" collapsible  collapsed"><a href="../../feature/manage/backup-from-cli.html">Backing up using the CLI</a><ul class="nav">
                                       <li class=" no-child "><a href="../../feature/manage/backup-cli-all.html">Backing up the entire system</a></li>
                                       <li class=" no-child "><a href="../../feature/manage/backup-cli-exclude-one.html">Exclude one tenant volume from the backup</a></li>
                                       <li class=" no-child "><a href="../../feature/manage/backup-cli-exclude-mult.html">Exclude multiple tenant volumes from the backup</a></li>
                                    </ul>
                                 </li>
                                 <li class=" no-child "><a href="../../feature/manage/restore.html">Restoring from a backup</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  collapsed"><a href="../../feature/manage/snapshot-rollback.html">Snapshot and rollback</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/manage/snapshot.html">Creating a snapshot</a></li>
                                 <li class=" no-child "><a href="../../feature/manage/rollback.html">Rolling back to a snapshot</a></li>
                              </ul>
                           </li>
                           <li class=" collapsible  collapsed"><a href="../../feature/manage/intro-stop-start.html">Stopping and starting Control Center for maintenance</a><ul class="nav">
                                 <li class=" no-child "><a href="../../feature/manage/stop-1.html">Stopping Control Center (single-host deployment)</a></li>
                                 <li class=" no-child "><a href="../../feature/manage/start-1.html">Starting Control Center (single-host deployment)</a></li>
                                 <li class=" collapsible  collapsed"><a href="../../feature/manage/stop-n.html">Stopping Control Center (multi-host deployment)</a><ul class="nav">
                                       <li class=" no-child "><a href="../../feature/manage/stop-n-master.html">Stopping a master host (multi-host deployment)</a></li>
                                       <li class=" no-child "><a href="../../feature/manage/stop-n-delegate.html">Stopping a delegate host (multi-host deployment)</a></li>
                                    </ul>
                                 </li>
                                 <li class=" no-child "><a href="../../feature/manage/start-n.html">Starting Control Center (multi-host deployment)</a></li>
                              </ul>
                           </li>
                        </ul>
                     </li>
                     <li class=" collapsible  collapsed"><a href="../../feature/cli/cli.html"><span class="enumeration enumeration0">Chapter 2. </span>Command-line interface reference</a><ul class="nav">
                           <li class=" no-child "><a href="../../feature/cli/invoking-serviced.html">Invoking serviced</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced.html">serviced</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-backup.html">serviced backup</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-docker.html">serviced docker</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-pool.html">serviced pool</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-restore.html">serviced restore</a></li>
                           <li class=" no-child "><a href="../../feature/cli/script.html">serviced script</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-service.html">serviced service</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-snapshot.html">serviced snapshot</a></li>
                           <li class=" no-child "><a href="../../feature/cli/serviced-storage.html">serviced-storage</a></li>
                           <li class=" no-child "><a href="../../feature/vars/file.html">Control Center configuration file</a></li>
                        </ul>
                     </li>
                     <li class=" collapsible  collapsed"><a href="#">Glossary</a><ul class="nav">
                           <li class=" no-child "><a href="../../shared/glossary/service-definition.html">service definition</a></li>
                           <li class=" no-child "><a href="../../shared/glossary/service-template.html">service template</a></li>
                        </ul>
                     </li>
                  </ul>
               </nav>
            </div>
            <div class="col-xs-12 col-md-8">
               <div id="page" class="starter-template">
                  <article>
                     <div class="page reference  - topic-topic       reference-reference " id="referenceid">
                        
                        <h1 class="title topictitle1">Backing up and restoring</h1>
                        <div class="body refbody">
                           <p class="shortdesc">Use <span class="ph">Control Center</span> to back up applications that <span class="ph">Control Center</span> manages.
                              Having accurate and tested system backups can mitigate problems caused by software or hardware
                              issues. The <span class="ph">Control Center</span> backup process creates a compressed tar archive file
                              (<span class="ph filepath">.tgz</span>) that can be restored on the same cluster or a similar
                              cluster.
                           </p>
                           
                           
                           <div class="section"><a name="referenceid-d1852e50" id="referenceid-d1852e50" class="anchor"></a>
                              
                              <p class="p">Backups include the current state of the system, the state of all services, configuration
                                 information, and application data.  The backup process leverages snapshot
                                 functionality. Therefore, when a backup is running, you can start and restart services;
                                 there is no need to shut down the application or Docker containers. The services are only
                                 momentarily suspended to enable reading the data.
                              </p>
                              
                              
                              <p class="p">You can back up and restore applications by using the browser interface or the command-line
                                 interface (CLI). Results are comparable; however, the CLI offers an option to exclude
                                 subdirectories from a backup.
                              </p>
                              
                              
                              <p class="p">The default directory for backup files is <span class="ph filepath">/opt/serviced/var/backups</span>.
                                 The directory can be changed by specifying the <var class="keyword varname">SERVICED_BACKUPS_PATH</var>
                                 environment variable in the <span class="ph">Control Center</span> configuration file,
                                 <span class="ph filepath">/etc/default/serviced</span>.
                              </p>
                              
                              
                              <p class="p">When a full backup is not necessary, such as when you need a checkpoint before installing
                                 software, you can perform a snapshot of the system. If you need to revert back to a
                                 snapshot, use the rollback feature. You use the CLI to perform snapshot and rollback. 
                              </p>
                              
                              
                              <div class="p">With both backup and snapshot, <span class="ph">Control Center</span>
                                 
                                 <ul class="ul" id="referenceid__ul_iyk_cq1_jx">
                                    
                                    <li class="li">Creates a tag for the Docker image of each service with metadata about the application
                                       data.
                                    </li>
                                    
                                    
                                    <li class="li">Creates a separate snapshot of the LVM thin pool, which stores both application data
                                       and snapshots of the application data.
                                    </li>
                                    
                                    
                                 </ul>
                                 
                                 
                              </div>
                              
                              
                              <p class="p">When you create a backup, <span class="ph">Control Center</span> also exports the snapshots to an archive
                                 file and moves them out of the LVM thin pool. Backups do not affect time-to-live (TTL).
                              </p>
                              
                              
                              <p class="p">For more information, see <a class="xref" href="snapshot-rollback.html" title="Though backups are the most reliable and durable way to preserve Docker images and configurations, creating a backup of an entire application is not always practical. However, you need to safeguard against potential risk when changing the system. In these cases, you can create a snapshot of the system.">Snapshot and rollback</a> and <a class="xref" href="../cli/cli.html">Command-line interface reference</a>.
                              </p>
                              
                              
                           </div>
                           
                           
                        </div>
                        
                        <div class="related-links">
                           
                           <ul class="ullinks">
                              
                              <li class="link ulchildlink"><strong><a href="backup-restore-best-pract.html">Best practices for backup and restore</a></strong><br>
                                 Review considerations and best practices that apply to application backup and     restore.
                              </li>
                              
                              <li class="link ulchildlink"><strong><a href="backup.html">Backing up using the browser interface</a></strong><br>
                                 Using the browser interface, you can create a backup of your entire system.
                              </li>
                              
                              <li class="link ulchildlink"><strong><a href="backup-from-cli.html">Backing up using the CLI</a></strong><br>
                                 As an alternative to performing application backup from the <span class="ph">Control Center</span>     browser interface, you can use the command-line interface (CLI). 
                              </li>
                              
                              <li class="link ulchildlink"><strong><a href="restore.html">Restoring from a backup</a></strong><br>
                                 Restore an instance of an application from a backup file on the same system, or restore     from a backup file to duplicate
                                 an instance on a new, similarly configured cluster.
                              </li>
                              
                           </ul>
                           
                        </div>
                     </div>
                     
                     <div class="row">
                        <footer id="topicsNPLinks">
                           <div id="footer_previous"><a href="../../feature/manage/resize.html" class="previous" rel="internal" title="Adding space to a tenant device"><span class="fa fa-arrow-circle-o-left"></span><span class="sr-only">Adding space to a tenant device</span></a></div>
                           <div id="footer_next"><a href="../../feature/manage/backup-restore-best-pract.html" class="next" rel="internal" title="Best practices for backup and restore"><span class="sr-only">Best practices for backup and restore</span><span class="fa fa-arrow-circle-o-right"></span></a></div>
                        </footer>
                     </div>
                  </article>
                  <div class="clear"></div>
                  
               </div>
            </div>
         </div>
      </div>
   </body>
</html>